---
page_title: "warpgate_public_key_credential Resource - terraform-provider-warpgate"
subcategory: ""
description: |-
  Manages a public key credential for a user in WarpGate.
---

# warpgate_public_key_credential (Resource)

Manages a public key credential for a user in WarpGate. This resource allows users to authenticate using SSH public key authentication for protocols that support it according to the user's credential policy.

## Example Usage

```hcl
resource "warpgate_user" "devops" {
  username = "devops"
  credential_policy {
    ssh = ["PublicKey"]
  }
}

resource "warpgate_public_key_credential" "devops_key" {
  user_id    = warpgate_user.devops.id
  label      = "Work Laptop"
  public_key = "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD3F6tyPEFEzV0LX3X8BsXdMsQz1x2cEikKDEY0aIj41qgxMCP/iteneqXSIFZBp5vizPvaoIR3Um9xK7PGoW8giupGn+EPuxIA4cDM4vzOqOkiMPhz5XK0whEjkVzTo4+S0puvDZuwIsdiW9mxhJc7tgBNL0cYlWSYVkz4G/fslNfRPW5mYAM49f4fhtxPb5ok4Q2Lg9dPKVHO/Bgeu5woMc7RY0p1ej6D4CKFE6lymSDJpW0YHX/wqE9+cfEauh7xZcG0q9t2ta6F6fmX0agvpFyZo8aFbXeUBr7osSCJNgvavWbM/06niWrOvYX2xwWdhXmXSrbX8ZbabVohBK41 email@example.com"
}
```

## Argument Reference

The following arguments are supported:

* `user_id` - (Required) The ID of the user to add the public key credential to. This cannot be changed after creation.
* `label` - (Required) A descriptive label for the public key, helping to identify the key's purpose or origin.
* `public_key` - (Required) The OpenSSH format public key. This should be the public portion of an SSH keypair.

## Attribute Reference

In addition to all arguments above, the following attributes are exported:

* `id` - The combined ID in the format `user_id:credential_id`.
* `date_added` - The date and time when the public key was added to the user's account.
* `last_used` - The date and time when the public key was last used for authentication, if available.

## Import

Public key credentials can be imported using a combined ID with the format `user_id:credential_id`:

```
$ terraform import warpgate_public_key_credential.devops_key 12345678-1234-1234-1234-123456789012:87654321-4321-4321-4321-210987654321
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `label` (String) A label for the public key
- `public_key` (String) The OpenSSH public key
- `user_id` (String) The ID of the user to add the public key credential to

### Read-Only

- `date_added` (String) The date the key was added
- `id` (String) The ID of this resource.
- `last_used` (String) The date the key was last used
